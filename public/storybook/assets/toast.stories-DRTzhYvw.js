import{j as r}from"./jsx-runtime-CDt2p4po.js";import{B as fe}from"./button-B3zYDy4A.js";import{r as n}from"./index-GiUgBvb1.js";import{r as Ye}from"./index-C8NrMXaH.js";import{P as N,c as Be,e as Xe,f as ze,b as P,a as X,d as qe,u as Ge}from"./index-D5RHfiO2.js";import{u as Ee}from"./index-DBCqBOGF.js";import{c as Qe}from"./index-C4LwAND9.js";import{B as Je,R as Ze,P as et}from"./index-BhJDfWi7.js";import{c as tt}from"./index-BwobEAja.js";import{c as j}from"./utils-CytzSlOG.js";const ot=1,st=5e3;let Q=0;function rt(){return Q=(Q+1)%Number.MAX_SAFE_INTEGER,Q.toString()}const J=new Map,me=e=>{if(J.has(e))return;const t=setTimeout(()=>{J.delete(e),k({type:"REMOVE_TOAST",toastId:e})},st);J.set(e,t)},nt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ot)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case"DISMISS_TOAST":{const{toastId:o}=t;return o?me(o):e.toasts.forEach(s=>{me(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===o||o===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)}}},Y=[];let B={toasts:[]};function k(e){B=nt(B,e),Y.forEach(t=>{t(B)})}function at({...e}){const t=rt(),o=d=>k({type:"UPDATE_TOAST",toast:{...d,id:t}}),s=()=>k({type:"DISMISS_TOAST",toastId:t});return k({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:d=>{d||s()}}}),{id:t,dismiss:s,update:o}}function he(){const[e,t]=n.useState(B);return n.useEffect(()=>(Y.push(t),()=>{const o=Y.indexOf(t);o>-1&&Y.splice(o,1)}),[e]),{...e,toast:at,dismiss:o=>k({type:"DISMISS_TOAST",toastId:o})}}var it=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ct="VisuallyHidden",se=n.forwardRef((e,t)=>r.jsx(N.span,{...e,ref:t,style:{...it,...e.style}}));se.displayName=ct;var re="ToastProvider",[ne,dt,ut]=Qe("Toast"),[ye]=Be("Toast",[ut]),[lt,z]=ye(re),ge=e=>{const{__scopeToast:t,label:o="Notification",duration:s=5e3,swipeDirection:d="right",swipeThreshold:u=50,children:p}=e,[v,T]=n.useState(null),[a,b]=n.useState(0),E=n.useRef(!1),F=n.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${re}\`. Expected non-empty \`string\`.`),r.jsx(ne.Provider,{scope:t,children:r.jsx(lt,{scope:t,label:o,duration:s,swipeDirection:d,swipeThreshold:u,toastCount:a,viewport:v,onViewportChange:T,onToastAdd:n.useCallback(()=>b(C=>C+1),[]),onToastRemove:n.useCallback(()=>b(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:F,children:p})})};ge.displayName=re;var be="ToastViewport",pt=["F8"],ee="toast.viewportPause",te="toast.viewportResume",Pe=n.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:s=pt,label:d="Notifications ({hotkey})",...u}=e,p=z(be,o),v=dt(o),T=n.useRef(null),a=n.useRef(null),b=n.useRef(null),E=n.useRef(null),F=Ee(t,E,p.onViewportChange),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=p.toastCount>0;n.useEffect(()=>{const c=h=>{var m;s.length!==0&&s.every(w=>h[w]||h.code===w)&&((m=E.current)==null||m.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[s]),n.useEffect(()=>{const c=T.current,h=E.current;if(R&&c&&h){const f=()=>{if(!p.isClosePausedRef.current){const y=new CustomEvent(ee);h.dispatchEvent(y),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const y=new CustomEvent(te);h.dispatchEvent(y),p.isClosePausedRef.current=!1}},w=y=>{!c.contains(y.relatedTarget)&&m()},x=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",w),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",x),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",w),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",x),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[R,p.isClosePausedRef]);const l=n.useCallback(({tabbingDirection:c})=>{const f=v().map(m=>{const w=m.ref.current,x=[w,...St(w)];return c==="forwards"?x:x.reverse()});return(c==="forwards"?f.reverse():f).flat()},[v]);return n.useEffect(()=>{const c=E.current;if(c){const h=f=>{var x,y,_;const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const O=document.activeElement,A=f.shiftKey;if(f.target===c&&A){(x=a.current)==null||x.focus();return}const I=l({tabbingDirection:A?"backwards":"forwards"}),K=I.findIndex(i=>i===O);Z(I.slice(K+1))?f.preventDefault():A?(y=a.current)==null||y.focus():(_=b.current)==null||_.focus()}};return c.addEventListener("keydown",h),()=>c.removeEventListener("keydown",h)}},[v,l]),r.jsxs(Je,{ref:T,role:"region","aria-label":d.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&r.jsx(oe,{ref:a,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"forwards"});Z(c)}}),r.jsx(ne.Slot,{scope:o,children:r.jsx(N.ol,{tabIndex:-1,...u,ref:F})}),R&&r.jsx(oe,{ref:b,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"backwards"});Z(c)}})]})});Pe.displayName=be;var Se="ToastFocusProxy",oe=n.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:s,...d}=e,u=z(Se,o);return r.jsx(se,{tabIndex:0,...d,ref:t,style:{position:"fixed"},onFocus:p=>{var a;const v=p.relatedTarget;!((a=u.viewport)!=null&&a.contains(v))&&s()}})});oe.displayName=Se;var V="Toast",ft="toast.swipeStart",mt="toast.swipeMove",vt="toast.swipeCancel",Tt="toast.swipeEnd",Ce=n.forwardRef((e,t)=>{const{forceMount:o,open:s,defaultOpen:d,onOpenChange:u,...p}=e,[v,T]=Xe({prop:s,defaultProp:d??!0,onChange:u,caller:V});return r.jsx(ze,{present:o||v,children:r.jsx(Et,{open:v,...p,ref:t,onClose:()=>T(!1),onPause:X(e.onPause),onResume:X(e.onResume),onSwipeStart:P(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,a=>{const{x:b,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${b}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:P(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,a=>{const{x:b,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${b}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),T(!1)})})})});Ce.displayName=V;var[wt,xt]=ye(V,{onClose(){}}),Et=n.forwardRef((e,t)=>{const{__scopeToast:o,type:s="foreground",duration:d,open:u,onClose:p,onEscapeKeyDown:v,onPause:T,onResume:a,onSwipeStart:b,onSwipeMove:E,onSwipeCancel:F,onSwipeEnd:C,...R}=e,l=z(V,o),[c,h]=n.useState(null),f=Ee(t,i=>h(i)),m=n.useRef(null),w=n.useRef(null),x=d||l.duration,y=n.useRef(0),_=n.useRef(x),O=n.useRef(0),{onToastAdd:A,onToastRemove:q}=l,D=X(()=>{var g;(c==null?void 0:c.contains(document.activeElement))&&((g=l.viewport)==null||g.focus()),p()}),I=n.useCallback(i=>{!i||i===1/0||(window.clearTimeout(O.current),y.current=new Date().getTime(),O.current=window.setTimeout(D,i))},[D]);n.useEffect(()=>{const i=l.viewport;if(i){const g=()=>{I(_.current),a==null||a()},S=()=>{const L=new Date().getTime()-y.current;_.current=_.current-L,window.clearTimeout(O.current),T==null||T()};return i.addEventListener(ee,S),i.addEventListener(te,g),()=>{i.removeEventListener(ee,S),i.removeEventListener(te,g)}}},[l.viewport,x,T,a,I]),n.useEffect(()=>{u&&!l.isClosePausedRef.current&&I(x)},[u,x,l.isClosePausedRef,I]),n.useEffect(()=>(A(),()=>q()),[A,q]);const K=n.useMemo(()=>c?je(c):null,[c]);return l.viewport?r.jsxs(r.Fragment,{children:[K&&r.jsx(ht,{__scopeToast:o,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:K}),r.jsx(wt,{scope:o,onClose:D,children:Ye.createPortal(r.jsx(ne.ItemSlot,{scope:o,children:r.jsx(Ze,{asChild:!0,onEscapeKeyDown:P(v,()=>{l.isFocusedToastEscapeKeyDownRef.current||D(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(N.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":l.swipeDirection,...R,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,i=>{i.key==="Escape"&&(v==null||v(i.nativeEvent),i.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:P(e.onPointerDown,i=>{i.button===0&&(m.current={x:i.clientX,y:i.clientY})}),onPointerMove:P(e.onPointerMove,i=>{if(!m.current)return;const g=i.clientX-m.current.x,S=i.clientY-m.current.y,L=!!w.current,M=["left","right"].includes(l.swipeDirection),H=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,We=M?H(0,g):0,Ue=M?0:H(0,S),G=i.pointerType==="touch"?10:2,$={x:We,y:Ue},pe={originalEvent:i,delta:$};L?(w.current=$,W(mt,E,pe,{discrete:!1})):ve($,l.swipeDirection,G)?(w.current=$,W(ft,b,pe,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(g)>G||Math.abs(S)>G)&&(m.current=null)}),onPointerUp:P(e.onPointerUp,i=>{const g=w.current,S=i.target;if(S.hasPointerCapture(i.pointerId)&&S.releasePointerCapture(i.pointerId),w.current=null,m.current=null,g){const L=i.currentTarget,M={originalEvent:i,delta:g};ve(g,l.swipeDirection,l.swipeThreshold)?W(Tt,C,M,{discrete:!0}):W(vt,F,M,{discrete:!0}),L.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),ht=e=>{const{__scopeToast:t,children:o,...s}=e,d=z(V,t),[u,p]=n.useState(!1),[v,T]=n.useState(!1);return bt(()=>p(!0)),n.useEffect(()=>{const a=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(a)},[]),v?null:r.jsx(et,{asChild:!0,children:r.jsx(se,{...s,children:u&&r.jsxs(r.Fragment,{children:[d.label," ",o]})})})},yt="ToastTitle",Re=n.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e;return r.jsx(N.div,{...s,ref:t})});Re.displayName=yt;var gt="ToastDescription",_e=n.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e;return r.jsx(N.div,{...s,ref:t})});_e.displayName=gt;var Ie="ToastAction",Ne=n.forwardRef((e,t)=>{const{altText:o,...s}=e;return o.trim()?r.jsx(De,{altText:o,asChild:!0,children:r.jsx(ae,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ie}\`. Expected non-empty \`string\`.`),null)});Ne.displayName=Ie;var Ae="ToastClose",ae=n.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e,d=xt(Ae,o);return r.jsx(De,{asChild:!0,children:r.jsx(N.button,{type:"button",...s,ref:t,onClick:P(e.onClick,d.onClose)})})});ae.displayName=Ae;var De=n.forwardRef((e,t)=>{const{__scopeToast:o,altText:s,...d}=e;return r.jsx(N.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...d,ref:t})});function je(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Pt(s)){const d=s.ariaHidden||s.hidden||s.style.display==="none",u=s.dataset.radixToastAnnounceExclude==="";if(!d)if(u){const p=s.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...je(s))}}),t}function W(e,t,o,{discrete:s}){const d=o.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&d.addEventListener(e,t,{once:!0}),s?qe(d,u):d.dispatchEvent(u)}var ve=(e,t,o=0)=>{const s=Math.abs(e.x),d=Math.abs(e.y),u=s>d;return t==="left"||t==="right"?u&&s>o:!u&&d>o};function bt(e=()=>{}){const t=X(e);Ge(()=>{let o=0,s=0;return o=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(s)}},[t])}function Pt(e){return e.nodeType===e.ELEMENT_NODE}function St(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const d=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||d?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function Z(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}var Ct=ge,Fe=Pe,Oe=Ce,Le=Re,Me=_e,ke=Ne,Ve=ae;const Rt=Ct,ie=n.forwardRef(({className:e,...t},o)=>r.jsx(Fe,{ref:o,className:j("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ie.displayName=Fe.displayName;const _t=tt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ce=n.forwardRef(({className:e,variant:t,...o},s)=>r.jsx(Oe,{ref:s,className:j(_t({variant:t}),e),...o}));ce.displayName=Oe.displayName;const Ke=n.forwardRef(({className:e,...t},o)=>r.jsx(ke,{ref:o,className:j("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Ke.displayName=ke.displayName;const de=n.forwardRef(({className:e,...t},o)=>r.jsx(Ve,{ref:o,className:j("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:r.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}));de.displayName=Ve.displayName;const ue=n.forwardRef(({className:e,...t},o)=>r.jsx(Le,{ref:o,className:j("text-sm font-semibold",e),...t}));ue.displayName=Le.displayName;const le=n.forwardRef(({className:e,...t},o)=>r.jsx(Me,{ref:o,className:j("text-sm opacity-90",e),...t}));le.displayName=Me.displayName;ie.__docgenInfo={description:"",methods:[]};ce.__docgenInfo={description:"",methods:[]};ue.__docgenInfo={description:"",methods:[]};le.__docgenInfo={description:"",methods:[]};de.__docgenInfo={description:"",methods:[]};Ke.__docgenInfo={description:"",methods:[]};function He(){const{toasts:e}=he();return r.jsxs(Rt,{children:[e.map(function({id:t,title:o,description:s,action:d,...u}){return r.jsxs(ce,{...u,children:[r.jsxs("div",{className:"grid gap-1",children:[o&&r.jsx(ue,{children:o}),s&&r.jsx(le,{children:s})]}),d,r.jsx(de,{})]},t)}),r.jsx(ie,{})]})}He.__docgenInfo={description:"",methods:[],displayName:"Toaster"};function $e(){const{toast:e}=he();return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx(fe,{onClick:()=>{e({title:"Scheduled: Catch up",description:"Friday, February 10, 2023 at 5:57 PM"})},children:"Show Toast"}),r.jsx(fe,{variant:"destructive",onClick:()=>{e({variant:"destructive",title:"Error",description:"Something went wrong. Please try again."})},children:"Show Error Toast"})]}),r.jsx(He,{})]})}const Vt={title:"Components/Toast",component:$e,parameters:{layout:"centered"},tags:["autodocs"]},U={render:()=>r.jsx($e,{})};var Te,we,xe;U.parameters={...U.parameters,docs:{...(Te=U.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  render: () => <ToastDemo />
}`,...(xe=(we=U.parameters)==null?void 0:we.docs)==null?void 0:xe.source}}};const Kt=["Default"];export{U as Default,Kt as __namedExportsOrder,Vt as default};
